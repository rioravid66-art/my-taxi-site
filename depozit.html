<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CarBet - Balansı Artır</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body { 
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
      min-height: 100vh; 
      color: #e5e7eb; 
      font-family: 'Segoe UI', sans-serif;
      overflow-x: hidden;
    }
    .glass-card { 
      background: rgba(15, 23, 42, 0.92); 
      backdrop-filter: blur(30px); 
      border: 1px solid rgba(16, 185, 129, 0.35); 
      border-radius: 32px; 
      box-shadow: 0 35px 80px -20px rgba(0,0,0,0.8), inset 0 0 0 1px rgba(255,255,255,0.05);
      animation: float 6s ease-in-out infinite;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    .gradient-text { 
      background: linear-gradient(135deg, #10b981 0%, #34d399 50%, #6ee7b7 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .countdown { 
      font-size: 4rem; 
      font-weight: 900; 
      background: linear-gradient(135deg, #10b981, #34d399);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 40px rgba(16,185,129,0.7);
      animation: pulse 1.5s infinite;
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.08); opacity: 0.9; }
    }
    .input-glow:focus {
      box-shadow: 0 0 0 6px rgba(16,185,129,0.4);
      border-color: #10b981;
      transform: translateY(-3px);
    }
    .method-card {
      transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
      background: linear-gradient(145deg, rgba(30,41,59,0.9), rgba(15,23,42,0.95));
    }
    .method-card:hover {
      transform: translateY(-12px) scale(1.02);
      box-shadow: 0 40px 80px -20px rgba(16,185,129,0.4);
      border-color: #10b981;
    }
    .method-card.selected {
      border: 2px solid #10b981;
      box-shadow: 0 0 0 8px rgba(16,185,129,0.3);
      background: rgba(16,185,129,0.08);
    }
    .payment-info {
      background: linear-gradient(135deg, rgba(16,185,129,0.12), rgba(34,197,94,0.08));
      border: 1px solid rgba(16,185,129,0.25);
      border-radius: 20px;
    }
    .btn-glow {
      background: linear-gradient(135deg, #10b981, #34d399);
      box-shadow: 0 10px 30px rgba(16,185,129,0.5);
    }
    .btn-glow:hover {
      box-shadow: 0 15px 40px rgba(16,185,129,0.7);
      transform: translateY(-4px) scale(1.03);
    }
  </style>
</head>
<body class="flex items-center justify-center p-4 md:p-8">

  <!-- Login Check Overlay -->
  <div id="loginRequired" class="fixed inset-0 bg-black/90 backdrop-blur-xl z-[1000] hidden flex items-center justify-center p-4 md:p-8">
    <div class="glass-card text-center max-w-md p-10 md:p-12 rounded-3xl">
      <div class="w-20 h-20 md:w-24 md:h-24 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-3xl flex items-center justify-center mx-auto mb-8">
        <i class="fas fa-lock text-3xl md:text-4xl text-white"></i>
      </div>
      <h2 class="text-3xl md:text-4xl font-black text-white mb-6 gradient-text">Giriş tələb olunur</h2>
      <a href="login.html" class="btn-glow text-white font-bold text-lg md:text-xl py-4 md:py-5 px-10 md:px-12 rounded-3xl shadow-2xl transition-all inline-flex items-center">
        <i class="fas fa-sign-in-alt mr-3"></i> Daxil ol
      </a>
    </div>
  </div>

  <div class="glass-card relative max-w-lg w-full p-6 md:p-10 lg:p-12">
    
    <!-- Back + Balance -->
    <div class="flex items-center justify-between mb-8">
      <a href="index.html" class="group flex items-center space-x-3 text-emerald-400 hover:text-emerald-300 text-xl md:text-2xl font-bold transition-all">
        <i class="fas fa-arrow-left group-hover:-translate-x-1 transition-transform"></i>
        <span>Geri</span>
      </a>
      
      <div class="text-right">
        <div class="text-base md:text-lg text-gray-400 mb-1">Cari balans</div>
        <div class="text-3xl md:text-4xl font-black text-emerald-400" id="currentBalance">0.00</div>
      </div>
    </div>

    <!-- Header -->
    <div class="text-center mb-10">
      <h1 class="text-4xl md:text-5xl font-black gradient-text mb-3 tracking-tight">Balans Artır</h1>
      <p class="text-lg md:text-xl text-gray-300">10 – 1,000 AZN arası</p>
    </div>

    <!-- Məbləğ Input -->
    <div class="mb-8">
      <label class="block text-lg md:text-xl font-semibold mb-4 text-center">Məbləğ (AZN)</label>
      <input id="depositAmount" 
             type="number" 
             min="10" 
             max="1000"
             step="5" 
             placeholder="10" 
             class="input-glow w-full p-5 md:p-6 bg-zinc-900/70 rounded-2xl text-2xl md:text-3xl text-center text-white placeholder-zinc-500 border-2 border-emerald-500/40 focus:outline-none transition-all duration-300"
             oninput="checkDeposit()">
    </div>

    <!-- Quick Amounts -->
    <div class="grid grid-cols-4 gap-3 mb-8">
      <button onclick="setQuickAmount(10)" class="bg-zinc-800 hover:bg-zinc-700 p-3 md:p-4 rounded-xl text-lg md:text-xl font-bold transition-all">10</button>
      <button onclick="setQuickAmount(50)" class="bg-zinc-800 hover:bg-zinc-700 p-3 md:p-4 rounded-xl text-lg md:text-xl font-bold transition-all">50</button>
      <button onclick="setQuickAmount(100)" class="bg-zinc-800 hover:bg-zinc-700 p-3 md:p-4 rounded-xl text-lg md:text-xl font-bold transition-all">100</button>
      <button onclick="setQuickAmount(500)" class="bg-zinc-800 hover:bg-zinc-700 p-3 md:p-4 rounded-xl text-lg md:text-xl font-bold transition-all">500</button>
    </div>

    <!-- Payment Methods -->
    <div class="space-y-5 mb-8">
      <!-- M10 Wallet -->
      <div class="method-card p-6 md:p-8" id="m10Method" onclick="selectMethod('m10')">
        <div class="flex items-center">
          <i class="fas fa-wallet text-3xl md:text-4xl text-green-400 mr-4 md:mr-6"></i>
          <div>
            <h3 class="text-xl md:text-2xl font-bold">M10 Wallet</h3>
            <p class="text-base md:text-lg text-gray-300">077 765 22 12</p>
          </div>
        </div>
      </div>

      <!-- Kripto -->
      <div class="method-card p-6 md:p-8" id="cryptoMethod" onclick="selectMethod('crypto')">
        <div class="flex items-center">
          <i class="fas fa-coins text-3xl md:text-4xl text-amber-400 mr-4 md:mr-6"></i>
          <div>
            <h3 class="text-xl md:text-2xl font-bold">Kripto Ödəniş</h3>
            <p class="text-base md:text-lg text-gray-300">USDT, BTC və s.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Deposit Button -->
    <button id="depositBtn" onclick="processDeposit()" 
            class="w-full btn-glow text-white py-5 md:py-6 px-8 rounded-3xl text-xl md:text-2xl font-bold shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed transition-all">
      <span id="depositText">Metod seç və ödə</span>
    </button>

    <!-- Countdown -->
    <div id="countdownContainer" class="text-center mt-6 text-xl md:text-2xl font-bold hidden">
      Yoxlanılır: <span id="countdownTimer" class="countdown">60</span> saniyə
    </div>
  </div>

  <script>
    let selectedMethod = null;

    window.onload = () => {
      if (localStorage.getItem('loggedIn') !== 'true') {
        document.getElementById('loginRequired').classList.remove('hidden');
        return;
      }
      localStorage.setItem('balance', '0.00');
      document.getElementById('currentBalance').textContent = '0.00';
    };

    function setQuickAmount(amount) {
      document.getElementById('depositAmount').value = amount;
      checkDeposit();
    }

    function checkDeposit() {
      const amount = parseFloat(document.getElementById('depositAmount').value);
      if (amount >= 10 && amount <= 1000 && !isNaN(amount)) {
        updateButton(amount);
      }
    }

    function selectMethod(method) {
      selectedMethod = method;
      document.querySelectorAll('.method-card').forEach(card => card.classList.remove('selected'));
      document.getElementById(method + 'Method').classList.add('selected');
      updateButton(parseFloat(document.getElementById('depositAmount').value));
    }

    function updateButton(amount) {
      const btn = document.getElementById('depositBtn');
      const text = document.getElementById('depositText');
      if (amount >= 10 && selectedMethod) {
        btn.disabled = false;
        text.textContent = `Ödə (${amount} AZN)`;
      } else {
        btn.disabled = true;
        text.textContent = 'Metod seç və məbləğ daxil et';
      }
    }

    function processDeposit() {
      const amount = parseFloat(document.getElementById('depositAmount').value);
      if (amount < 10 || !selectedMethod) return;

      document.getElementById('countdownContainer').classList.remove('hidden');
      let timeLeft = 60;
      document.getElementById('countdownTimer').textContent = timeLeft;

      const timer = setInterval(() => {
        timeLeft--;
        document.getElementById('countdownTimer').textContent = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(timer);
          document.getElementById('countdownContainer').classList.add('hidden');

          // Balans artır
          let current = parseFloat(localStorage.getItem('balance') || '0');
          current += amount;
          localStorage.setItem('balance', current.toFixed(2));
          document.getElementById('currentBalance').textContent = current.toFixed(2);

          alert(`${amount} AZN balansınıza əlavə olundu!`);
          window.location.href = 'index.html';
        }
      }, 1000);
    }
  </script>
</body>
</html>
